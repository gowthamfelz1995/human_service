<template>
    <lightning-card title="Choose Service" icon-name="action:new_case">
        <lightning-layout vertical-align="center" class="slds-p-around_medium">
            <lightning-layout-item size="12">
                <lightning-record-view-form record-id={recordId} object-api-name={serviceRequest}>
                    <lightning-output-field field-name="Name" value={recordId}>
                    </lightning-output-field>
                    <lightning-output-field field-name="AG_Service_Type__c" value={serviceType}>
                    </lightning-output-field>
                </lightning-record-view-form>
                <br />

                <template if:true={services}>
                    <div style="padding-bottom: 5px;">
                        <strong>Available Services</strong>
                    </div>
                    <table class="slds-table slds-table_cell-buffer slds-table_bordered slds-m-top_small">
                        <thead>
                            <tr class="slds-line-height_reset">
                                <th class="" scope="col">
                                    <div class="slds-truncate" title="Service Name">Service Name</div>
                                </th>
                                <th class="" scope="col">
                                    <div class="slds-truncate" title="From Date">From Date</div>
                                </th>
                                <th class="" scope="col">
                                    <div class="slds-truncate" title="To Date">To Date</div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <template for:each={services} for:item="service">
                                <tr class="slds-hint-parent" key={service.service.Id}>
                                    <td>
                                        <div class="slds-truncate">
                                            <lightning-input type="checkbox" label={service.service.AG_Service_Name__c}
                                                checked={service.isSelected} onchange={handleChange}>
                                            </lightning-input>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="slds-truncate">
                                            <lightning-input onchange={getFromDate} value={fromDate} type="Date">
                                            </lightning-input>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="slds-truncate">
                                            <lightning-input onchange={getToDate} value={toDate} type="Date">
                                            </lightning-input>
                                        </div>
                                    </td>
                                </tr>
                            </template>
                        </tbody>
                    </table>
                </template>
            </lightning-layout-item>
        </lightning-layout>

        <div class="footer">
            <lightning-button label="Save" variant="brand" onclick={handleSave}></lightning-button>
            &nbsp; &nbsp;
            <lightning-button label="Cancel" variant="neutral" onclick={handleCancel}></lightning-button>
        </div>

    </lightning-card>
</template>